#include <stdio.h>
struct Node{
    int data;
    struct Node* next;

};
void push(struct Node** head_ref, int new_data){
    struct Node*new_node=(struct Node*)malloc(sizeof(struct Node));
    new_node->data=new_data;
    new_node->next=(*head_ref);
    (*head_ref)=new_node;

}
void ins_at_pos_n(struct Node**head,int data, int position){
    struct Node*ptr=(struct Node*)malloc(sizeof(struct Node));
    ptr->data=data;
    int i;
    struct Node* temp=*head;
    if (position==1){
        ptr->next=temp;
        *head=ptr;
        return;
    }
    for(i=1;i<position-1;i++){
        temp=temp->next;
    }
    ptr->next=temp->next;
    temp->next=ptr;


}
void append(struct Node**head_ref,int new_data){
    struct Node*new_node=(struct Node*)malloc(sizeof(struct Node));
    struct Node*last=*head_ref;
    new_node->data=new_data;
    new_node->next=NULL;
    if(*head_ref==NULL){
        *head_ref=new_node;
        return;

    }
    while(last->next!=NULL)
        last=last->next;
    last->next=new_node;
    return;
}
void printList(struct Node*node)
{
    while(node!=NULL){
        printf("%d",node->data);
        node=node->next;
    }
}
int main(){
    struct Node*head=NULL;
    int ele,pos;
    int choice;
    printf("The available options are: a)Inserting an element at the first position \n b) Inserting an element at any desired position \n c)Inserting an element at the end \n d)Displaying the Linked list. Press any other key to exit.");
    while(1){
        printf("Enter your choice ");
        scanf(" %d",&choice);
        switch(choice){
        case 1:
            printf("Enter element to push: ");
            scanf("%d",&ele);
            push(&head,ele);
            break;

        case 2:
            printf("Enter position to insert in: ");
            scanf("%d",&pos);
            printf("Enter element to insert: ");
            scanf("%d",&ele);
            ins_at_pos_n(&head,ele,pos);
            break;
        case 3:
            printf("Enter element to append");
            scanf("%d",&ele);
            append(&head,ele);
            break;
        case 4:
            printf("Displaying LINKED LIST \n");
            printList(head);
            break;
        default:
            exit(0);

    }
    }
    return 0;
}
